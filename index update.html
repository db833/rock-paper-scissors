<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="UTF-8">
        <meta rel="stylesheet" type="text/css" href="#" media="all"/>
    </head>
    <body>
        <div id="playerChoice">
            <button class="playerChoices" id="Rock">Rock</button>
            <button class="playerChoices" id="Paper">Paper</button>
            <button class="playerChoices" id="Scissors">Scissors</button>
            <div id="Score">Player 0: Computer 0</div>
            <div id="Result"></div>
        </div>

    

        <script>
            let playerScore = 0;
            let computerScore =0;
            let playerItem = ""
            document.getElementById("Rock").addEventListener("click",playerSelect );
            document.getElementById("Paper").addEventListener("click",playerSelect);
            document.getElementById("Scissors").addEventListener("click",playerSelect);

            function playerSelect(){
                document.getElementById("Result").textContent = "";
                playerItem = this.id;
                game();

                if(playerScore==5 || computerScore==5) {
                    document.getElementById("Result").textContent = "FINAL RESULT: Player: " + playerScore + " Computer: " + computerScore;
                    playerScore=0;
                    computerScore=0;
                }
            }
            

            function game() {
                // Is it game #5?
        
                // Computer chooses item
                let computerItem = computerPlay();
                
                //Determine result of round
                playRound(playerItem, computerItem);

                
                document.getElementById("Score").textContent ="Player: " + playerScore + " Computer: " + computerScore;
            }

            function playRound(playerSelection, computerSelection) {
                
                //Determine result
                if (playerSelection.toLowerCase() == "rock" && computerSelection.toLowerCase() == "rock") {
                    result=0
                } else if (playerSelection.toLowerCase() == "rock" && computerSelection.toLowerCase() == "scissors") {
                    result=1
                } else if (playerSelection.toLowerCase() == "rock" && computerSelection.toLowerCase() == "paper") {
                    result= -1
                } else if (playerSelection.toLowerCase() == "scissors" && computerSelection.toLowerCase() == "scissors") {
                    result= 0
                } else if (playerSelection.toLowerCase() == "scissors" && computerSelection.toLowerCase() == "paper") {
                    result= 1
                } else if (playerSelection.toLowerCase() == "scissors" && computerSelection.toLowerCase() == "rock") {
                    result= -1
                } else if (playerSelection.toLowerCase() == "paper" && computerSelection.toLowerCase() == "paper") {
                    result= 0
                } else if (playerSelection.toLowerCase() == "paper" && computerSelection.toLowerCase() == "rock") {
                    result= 1
                } else if (playerSelection.toLowerCase() == "paper" && computerSelection.toLowerCase() == "scissors") {
                    result= -1
                } 

                //Announce result
                switch(result) {
                    case 0:
                        console.log("Draw! Player: " + playerSelection + " Computer: " + computerSelection);
                        break;
                    case 1:
                        console.log("You win! " + playerSelection + " beats "+ computerSelection+".");
                        playerScore++;
                        break;
                    case -1:
                        console.log("You lose! " + computerSelection + " beats "+ playerSelection+".");
                        computerScore++;
                }
            }
            
            function computerPlay() {
                // Randomly select either rock, paper or scissors for computer
                let randomInt = parseInt(Math.random()*3);
                let objectItem = [`Rock`,`Paper`,`Scissors`];
                return objectItem[randomInt]
            }
        </script>
    </body>
</html>